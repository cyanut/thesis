
 %% The following five commands set the respective field values so we can
 %% generate the title page and abstract page automatically.
\newcommand*{\degree}[1]%
  {\ifx\empty#1\empty\else\gdef\vdegree{#1}\fi}
\newcommand*{\department}[1]%
  {\ifx\empty#1\empty\else\gdef\vdepartment{#1}\fi}
\newcommand*{\gradyear}[1]%
  {\ifx\empty#1\empty\else\gdef\vgradyear{#1}\fi}
\renewcommand*{\author}[1]%
  {\ifx\empty#1\empty\else\gdef\vauthor{#1}\fi}
\renewcommand*{\title}[1]%
  {\ifx\empty#1\empty\else\gdef\vtitle{#1}\fi}

  %\newcommand*{\singlespacingnoskip}{\setstretch{\setspace@singespace}}

  %% Change \maketitle to follow SGS guidelines.
\renewcommand{\maketitle}%
  {\begin{titlepage}
      \large\singlespacing
      \begin{center}
          \mbox{}
          \vfill
          \textsc{\huge\vtitle}\\
          \vfill
          by \\
          \vfill
          {\Large\vauthor}\\
          \vfill
          \vfill
          A thesis submitted in conformity with the requirements\\
          for the degree of {\vdegree}\\
          {\vdepartment}\\
          University of Toronto\\
          \vfill
          {\copyright} Copyright {\vgradyear} by {\vauthor}\\
          \vspace{.01\textheight}
          \mbox{}
      \end{center}
      \setcounter{page}{1}
  \end{titlepage}
   \setcounter{page}{2}}

\newenvironment{abstract}%
  {
      \chapter*{Abstract}
   \begin{center}
       {\Large\textbf\vtitle}\\[2ex]
       {\vauthor}\\
       {\vdegree}\\
       {\vdepartment}\\
       University of Toronto\\
       {\vgradyear}\\
   \end{center}
   \begingroup
   %% Adjust line spacing: if it was less than 2, increase it to 2;
   %% otherwise, leave it as is.
   \ifdim \baselinestretch pt < 1.6pt \doublespacing\fi}%
  {\par\endgroup\newpage}


  %% \begin{acknowledgements}...\end{acknowledgements} formats an
  %% acknowledgements section (*not* on a separate page).
\newenvironment{acknowledgements}%
  {
      \chapter*{Acknowledgements}
   \begingroup\noindent}%
  {\par\endgroup\newpage}



  %% Single-spaced quotes and quotations.
\newenvironment{longquote}%
  {\begin{quote}\singlespacingnoskip}{\end{quote}}
      \newenvironment{longquotation}%
  {\begin{quotation}\singlespacingnoskip}{\end{quotation}}

\newcommand{\us}[2]{\underset{#1}{\operatorname{#2}}}
